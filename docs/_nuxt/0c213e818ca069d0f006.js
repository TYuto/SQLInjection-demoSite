(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{191:function(e,t,s){var n=s(322);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,s(13).default)("d4be674c",n,!0,{})},234:function(e,t){},236:function(e,t){},269:function(e,t){},270:function(e,t){},321:function(e,t,s){"use strict";var n=s(191);s.n(n).a},322:function(e,t,s){(e.exports=s(12)(!1)).push([e.i,"",""])},324:function(e,t,s){"use strict";s.r(t);s(33),s(91);var n=s(323),a=s(230),r={components:{VueBootstrapTypeahead:n.a},data:function(){return{sqlquerry:"",db:{},stdout:"",items:[],fields:{},querrys:"",tablename:"",itemeonece:[],fieldonece:{},tables:[],isLogin:!1,usernameInput:"",passwordInput:"",message:""}},created:function(){this.resetdb()},methods:{formatlabe:function(e){for(var t={},s=0;s<e.length;s++)t[s]={label:e[s]};return t},runquery:function(e){this.querrys+=e+"\n\n",this.querrys=this.querrys.split("\n").slice(-17).join("\n");var t=this.db.exec(e),s=this.db.exec("select name from sqlite_master where type='table';"),n=[];return s[0].values.forEach(function(e){return n.push(e[0])}),this.tables=n,console.log(this.tables),console.log(t),t},goquerry:function(){var e=this.sqlquerry,t=this.runquery(e);this.itemeonece=t[0].values,this.fieldonece=this.formatlabe(t[0].columns),this.sqlquerry=""},resetdb:function(){this.db=new a.Database;this.runquery("CREATE TABLE USERS (id int, username char, password char);\nINSERT INTO USERS VALUES (0, 'admin','adminpassword');\nINSERT INTO USERS VALUES (1, 'normaluser', 'userpassword');")},selectall:function(){var e=this.runquery("SELECT * FROM "+this.tablename+";");this.items=[],this.items=e[0].values,this.fields=this.formatlabe(e[0].columns)},login:function(){var e=this.runquery('SELECT username FROM USERS WHERE username="'+this.usernameInput+'" and password="'+this.passwordInput+'"');void 0!==e[0]?(this.isLogin=!0,this.username=e[0].values[0][0],this.message=""):(this.message="ユーザー名又はパスワードが間違っています",console.log(this.message))}}},i=(s(321),s(21)),o=Object(i.a)(r,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("b-card",{staticClass:"mx-2 my-2"},[s("h2",[e._v("アプリケーション本体")]),e._v(" "),e.isLogin?s("b-card",[s("p",[e._v("Hello "+e._s(e.username)+" ")]),e._v(" "),s("b-button",{attrs:{variant:"info"},on:{click:function(t){e.isLogin=!1}}},[e._v("logout")])],1):s("b-card",[s("b-input",{attrs:{placeholder:"username"},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.goquerry(t):null}},model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}}),e._v(" "),s("b-input",{attrs:{type:"password",placeholder:"password"},model:{value:e.passwordInput,callback:function(t){e.passwordInput=t},expression:"passwordInput"}}),e._v(" "),s("b-button",{attrs:{variant:"info"},on:{click:e.login}},[e._v("login")]),e._v(" "),s("b-alert",{attrs:{show:""!=e.message,variant:"danger"}},[e._v(e._s(e.message))])],1)],1),e._v(" "),s("b-card",{staticClass:"mx-2 my-2"},[s("h2",[e._v("デバッグ用")]),e._v(" "),s("b-button",{staticClass:"mx-2 my-2",attrs:{variant:"info"},on:{click:e.resetdb}},[e._v("データベースのリセット")]),e._v(" "),s("b-card",{staticClass:"mx-2 my-2"},[s("h4",[e._v("sqlの実行")]),e._v(" "),s("b-input",{attrs:{placeholder:"sql"},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.goquerry(t):null}},model:{value:e.sqlquerry,callback:function(t){e.sqlquerry=t},expression:"sqlquerry"}}),e._v(" "),s("b-card",{staticClass:"mx-2 my-2"},[s("b-table",{attrs:{items:e.itemeonece,fields:e.fieldonece}})],1)],1),e._v(" "),s("b-card",{staticClass:"mx-2 my-2"},[s("h4",[e._v("tableの表示")]),e._v(" "),s("vue-bootstrap-typeahead",{attrs:{data:e.tables,"min-matching-chars":0,placeholder:"table名"},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.selectall(t):null}},model:{value:e.tablename,callback:function(t){e.tablename=t},expression:"tablename"}}),e._v(" "),s("b-card",{staticClass:"mx-2 my-2"},[s("b-table",{attrs:{items:e.items,fields:e.fields}})],1)],1),e._v(" "),s("b-card",{staticClass:"mx-2 my-2"},[s("h4",[e._v("実行されたsql")]),e._v(" "),s("p",{staticStyle:{"white-space":"pre"},domProps:{textContent:e._s(e.querrys)}})])],1)],1)},[],!1,null,null,null);o.options.__file="index.vue";t.default=o.exports}}]);